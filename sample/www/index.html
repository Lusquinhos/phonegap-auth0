<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <link rel="stylesheet" type="text/css" href="css/index.css" />
        <title>Auth0 PhoneGap sample</title>
    </head>
    <body>
        <div class="app">
            <button id="login-connection">Login with Google</button>
            <button id="login-widget">Login with Widget</button>

            <p id="result">User not authenticated yet.</p>
        </div>
        <script type="text/javascript" src="phonegap.js"></script>
        <script type="text/javascript" src="js/jquery-1.10.2.min.js"></script>
        <script type="text/javascript" src="https://d19p4zemcycm7a.cloudfront.net/w2/auth0-1.2.0.min.js"></script>
        
        <script type="text/javascript">
            $(document).on('deviceready', function() {
                var domain = ''; // e.g.: contoso.auth0.com
                var clientId = '';
                var callbackURL = '';
                var connection = ''; // change to "facebook", "paypal", "linkedin", etc.

                var auth0Client = new Auth0Client(domain, clientId, callbackURL);

                $('#login-widget').on('click', function() {
                    $('#result').html('');
                    
                    auth0Client.login({ connection: connection }, function (err, auth0User) {
                        if (err) $('#result').html('error: ' + err.message);
                        else {
                            // * Use auth0User to do wonderful things, e.g.:
                            // - get user email => auth0User.profile.email
                            // - get facebook/google/twitter/etc access token => auth0User.profile.identities[0].access_token
                            // - get Windows Azure AD groups => auth0User.profile.groups
                            // - etc.
                            $('#result').html('TODO');
                        }
                    });
                });

                $('#login-connection').on('click', function() {
                    $('#result').html('');

                    auth0Client.login({ connection: connection }, function (err, auth0User) {
                        if (err) $('#result').html('error: ' + err.message);
                        else {
                            // * Use auth0User to do wonderful things, e.g.:
                            // - get user email => auth0User.profile.email
                            // - get facebook/google/twitter/etc access token => auth0User.profile.identities[0].access_token
                            // - get Windows Azure AD groups => auth0User.profile.groups
                            // - etc.
                            $('#result').html('TODO');
                        }
                    });
                });
            });
        </script>
    </body>
</html>
